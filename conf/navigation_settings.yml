#-------------------------------------------------------------------------------
# Name:        settings.yml
# Purpose:     Settings file for the navigation server
#
# Author:      Laurent Carré
#
# Created:     09/07/2024
# Copyright:   (c) Laurent Carré Sterwen Technology 2021-2024
# Licence:     Eclipse Public License 2.0
#-------------------------------------------------------------------------------
#
function: Navigation message server
server_name: STNC_message_server
log_level: INFO
trace_dir: /data/navigation/traces
log_module:
    nmea_routing.console: INFO
    nmea_routing.internal_gps: INFO
    router_common.configuration: DEBUG

features:
    - router_core
    - nmea2000
    - couplers:
          - N2KGrpcCoupler
          - MpptCoupler
          - NMEATCPReader

decode_definition_only: false

servers:

- Main:
      class: NavigationMainServer
      
- NMEAServer:
    class: NMEAServer
    port: 4500
    nmea2000: dyfmt
    # filters: [DiscardAISGPS, RemoveGPS, AutoPilotN2K, Barometer]
    
- gRPCMain:
    class: GrpcServer
    port: 4502
    
- NMEASender:
    class: NMEASenderServer
    port: 4503
    coupler: NMEA2000Can
    max_silent: 10
    # master: 172.16.0.100
    timeout: 8.0


couplers:

- NMEA2000Can:
    class: N2KGrpcCoupler
    server: 127.0.0.1
    port: 4512

services:

- Console:
    class: Console
    server: gRPCMain


publishers:


filters:
